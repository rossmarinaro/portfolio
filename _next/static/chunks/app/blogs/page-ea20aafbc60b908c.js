(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[156],{96803:(e,t,l)=>{Promise.resolve().then(l.bind(l,59926))},59926:(e,t,l)=>{"use strict";l.r(t),l.d(t,{default:()=>g});var s=l(95155),n=l(12115);class a{static async xhr(e,t,l){let s=await a.request(t,l),n={method:s.method,headers:s.headers,body:JSON.stringify(s.body)},i=await fetch(e,n);return i.ok?await i.json():Error()}static async request(e,t){switch(a.headers={Accept:"application/json","Content-Type":"application/json","Access-Control-Allow-Origin":"*",Authorization:"Bearer "+localStorage.getItem("webtoken"),credentials:"same-origin"},e){case"GET":a.method="GET";break;case"POST":a.method="POST";break;case"PUT":a.method="PUT"}let l={method:a.method,headers:a.headers};return"POST"===e||"PUT"===e?l.body=t:delete l.body,l}}var i=l(5565);let r={src:"/portfolio/_next/static/media/dots.5d1eda58.svg",height:23,width:8,blurWidth:0,blurHeight:0},o=(e,t)=>Array.from({length:t-e+1},(t,l)=>l+e),c=e=>(0,n.useMemo)(()=>{let t=Math.ceil(e.totalCount/e.pageSize);if(e.siblingCount+5>=t)return o(1,t);let l=Math.max(e.currentPage-e.siblingCount,1),s=Math.min(e.currentPage+e.siblingCount,t),n=l>2,a=s<t-2;return!n&&a?[...o(1,2+3*e.siblingCount),r,t]:n&&!a?[1,r,...o(t-(2+3*e.siblingCount)+1,t)]:n&&a?[1,r,...o(l,s),r,t]:void 0},[e.totalCount,e.pageSize,e.siblingCount,e.currentPage]),d=e=>{let{onPageChange:t,totalCount:l,siblingCount:n=1,currentPage:a,pageSize:o,className:d}=e,h=c({currentPage:a,totalCount:l,siblingCount:n,pageSize:o});if(0===a||h&&h.length<2)return null;let g=h&&h[h.length-1];return(0,s.jsx)("div",{id:"pagination",children:(0,s.jsxs)("ul",{className:"flex pagination-container-".concat(d," mt-5 pl-[50%] w-full bg-[#00ff4c] rounded-xl"),children:[(0,s.jsx)("li",{className:"pagination-item",onClick:()=>t(a-1),children:(0,s.jsx)("div",{className:"arrow left"})}),null==h?void 0:h.map(e=>e===r?(0,s.jsxs)("li",{style:{padding:"10px"},className:"pagination-item dots",children:[(0,s.jsx)(i.default,{src:r,alt:"pagination-dots"},e)," "]},e):(0,s.jsx)("li",{style:{padding:"10px"},className:"pagination-item",onClick:()=>t(e),children:e},"")),a===g&&(0,s.jsx)("li",{className:"pagination-item pl-5",onClick:()=>t(a+1),children:(0,s.jsx)("div",{className:"arrow right"})})]})})};function h(e){let{username:t,title:l,date:n,content:a}=e.props;return(0,s.jsxs)("div",{className:"component content-container col-2-2 container",children:[(0,s.jsxs)("ul",{id:"blog-element",style:{marginTop:"2%",fontStyle:"italic",fontWeight:"bold"},children:[(0,s.jsx)("li",{className:"image-gallery-link vector",children:t}),(0,s.jsx)("li",{className:"image-gallery-link vector",children:l}),(0,s.jsx)("li",{className:"image-gallery-link vector",children:n})]}),(0,s.jsx)("p",{children:a})]})}function g(){let e=(0,n.useRef)([]),[t,l]=(0,n.useState)(1),[i,r]=(0,n.useState)("list"),[o,c]=(0,n.useState)({}),g=(0,n.useMemo)(()=>{let l=(t-1)*5;return e.current.slice(l,l+5)},[t,e]);return(0,n.useEffect)(()=>{(async()=>{try{a.xhr("https://rossmarinaro.onrender.com/get-blogs","GET").then(t=>{t&&e.current.push(t)})}catch(e){console.log("There was an error. ",e)}})()},[]),(0,s.jsxs)("section",{className:"mt-[5%] mb-[10%] w-full",children:[(0,s.jsxs)("table",{className:"blog-table",children:[(0,s.jsx)("thead",{children:(0,s.jsxs)("tr",{children:[(0,s.jsx)("th",{children:"Username"}),(0,s.jsx)("th",{children:"Title"}),(0,s.jsx)("th",{children:"Date"})]})}),(0,s.jsx)("tbody",{children:g.length?g.map(e=>(0,s.jsxs)("tr",{onClick:()=>{c(e),r("blog"===i?"list":"blog")},children:[e.username&&(0,s.jsx)("td",{children:e.username}),e.title&&(0,s.jsx)("td",{children:e.title}),e.date&&(0,s.jsx)("td",{children:e.date})]},e._id)):(0,s.jsx)("tr",{children:(0,s.jsx)("td",{className:"mb-2 text-1xl font-semibold",style:{marginLeft:"100%"},children:" N/A "})})})]}),(0,s.jsx)(d,{className:"pagination-bar",currentPage:t,totalCount:e.current.length,pageSize:5,onPageChange:e=>l(e)}),o?(0,s.jsx)(h,{props:o}):(0,s.jsx)("h3",{className:"mb-3 text-2xl font-semibold",style:{fontStyle:"italic",color:"#fff"},children:" No blogs loaded. "})]})}}},e=>{var t=t=>e(e.s=t);e.O(0,[565,441,517,358],()=>t(96803)),_N_E=e.O()}]);